
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
        <link rel="next" href="contact/">
      
      
        
      
      
      <link rel="icon" href="images/favicon.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Imputation Server 2</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Segoe+UI:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Segoe UI";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#imputation-server-2" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Imputation Server 2" class="md-header__button md-logo" aria-label="Imputation Server 2" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Imputation Server 2
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/genepi/imputationserver2" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    genepi/imputationserver2
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="contact/" class="md-tabs__link">
        
  
  
    
  
  Contact

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Imputation Server 2" class="md-nav__button md-logo" aria-label="Imputation Server 2" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Imputation Server 2
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/genepi/imputationserver2" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    genepi/imputationserver2
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#run-with-test-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Run with test data
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-with-custom-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Run with custom configuration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-panel-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reference Panel Configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reference Panel Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#yaml-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        YAML Structure
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="YAML Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        Properties
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Properties">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#populations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Populations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quality-filters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quality Filters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-yaml" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example YAML
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#note-on-chr-variable" class="md-nav__link">
    <span class="md-ellipsis">
      
        Note on $chr Variable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#legend-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Legend Files
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-with-cloudgene" class="md-nav__link">
    <span class="md-ellipsis">
      
        Run with Cloudgene
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run with Cloudgene">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Requirements:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-on-slurm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running on SLURM
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-on-aws-batch" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running on AWS Batch
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#activate-mail-support" class="md-nav__link">
    <span class="md-ellipsis">
      
        Activate mail support
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adapt-default-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Adapt default parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development" class="md-nav__link">
    <span class="md-ellipsis">
      
        Development
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Development">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-docker-image-locally" class="md-nav__link">
    <span class="md-ellipsis">
      
        Build docker image locally
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-testcases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Run testcases
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      
        License
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contact" class="md-nav__link">
    <span class="md-ellipsis">
      
        Contact
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="contact/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contact
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#run-with-test-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Run with test data
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-with-custom-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Run with custom configuration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-panel-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reference Panel Configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reference Panel Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#yaml-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        YAML Structure
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="YAML Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        Properties
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Properties">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#populations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Populations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quality-filters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quality Filters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-yaml" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example YAML
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#note-on-chr-variable" class="md-nav__link">
    <span class="md-ellipsis">
      
        Note on $chr Variable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#legend-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Legend Files
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-with-cloudgene" class="md-nav__link">
    <span class="md-ellipsis">
      
        Run with Cloudgene
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run with Cloudgene">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Requirements:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-on-slurm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running on SLURM
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-on-aws-batch" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running on AWS Batch
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#activate-mail-support" class="md-nav__link">
    <span class="md-ellipsis">
      
        Activate mail support
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adapt-default-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Adapt default parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development" class="md-nav__link">
    <span class="md-ellipsis">
      
        Development
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Development">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-docker-image-locally" class="md-nav__link">
    <span class="md-ellipsis">
      
        Build docker image locally
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-testcases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Run testcases
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      
        License
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contact" class="md-nav__link">
    <span class="md-ellipsis">
      
        Contact
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  
  



  
  


<h1 id="imputation-server-2">Imputation Server 2<a class="headerlink" href="#imputation-server-2" title="Permanent link">&para;</a></h1>
<p><a href="https://github.com/genepi/imputationserver2/actions/workflows/ci-tests.yml"><img alt="imputationserver2" src="https://github.com/genepi/imputationserver2/actions/workflows/ci-tests.yml/badge.svg" /></a>
<a href="https://github.com/askimed/nf-test"><img alt="nf-test" src="https://img.shields.io/badge/tested_with-nf--test-337ab7.svg" /></a></p>
<p>This repository includes the Imputation Server 2 Nextflow workflow.</p>
<h2 id="run-with-test-data">Run with test data<a class="headerlink" href="#run-with-test-data" title="Permanent link">&para;</a></h2>
<p>The pipeline provides small test data to verify installation:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>nextflow run main.nf -c conf/test_single_vcf.config
</code></pre></div>
<h2 id="run-with-custom-configuration">Run with custom configuration<a class="headerlink" href="#run-with-custom-configuration" title="Permanent link">&para;</a></h2>
<p><code>job.config</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>params {
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    project                 = &quot;my-test-project&quot;
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    build                   = &quot;hg19&quot;
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    files                   = &quot;tests/data/input/three/*.vcf.gz&quot;
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    allele_frequency_population              = &quot;eur&quot;
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    mode                    = &quot;imputation&quot;
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    refpanel_yaml           = &quot;tests/hapmap-2/2.0.0/imputation-hapmap2.yaml&quot;
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    output                  = &quot;output&quot;
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>}
</code></pre></div>
<p>Run pipeline with <code>job.config</code> configuration:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>nextflow run main.nf -c job.config
</code></pre></div>
<h2 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>project</code></td>
<td><code>null</code></td>
<td>Project name</td>
</tr>
<tr>
<td><code>project_date</code></td>
<td><code>date</code></td>
<td>Project date</td>
</tr>
<tr>
<td><code>files</code></td>
<td><code>null</code></td>
<td>List of input files</td>
</tr>
<tr>
<td><code>allele_frequency_population</code></td>
<td><code>null</code></td>
<td>Allele Frequency Population information</td>
</tr>
<tr>
<td><code>refpanel_yaml</code></td>
<td><code>null</code></td>
<td>Reference panel YAML file</td>
</tr>
<tr>
<td><code>mode</code></td>
<td><code>imputation</code></td>
<td>Processing mode (e.g., 'imputation' or `qc-only``)</td>
</tr>
<tr>
<td><code>chunksize</code></td>
<td><code>20000000</code></td>
<td>Chunk size for processing</td>
</tr>
<tr>
<td><code>min_samples</code></td>
<td><code>20</code></td>
<td>Minimum number of samples needed</td>
</tr>
<tr>
<td><code>max_samples</code></td>
<td><code>50000</code></td>
<td>Maximum number of samples allowed</td>
</tr>
<tr>
<td><code>merge_samples</code></td>
<td><code>true</code></td>
<td>Execute compression and encryption workflow</td>
</tr>
<tr>
<td><code>password</code></td>
<td><code>null</code></td>
<td>Password for encryption</td>
</tr>
<tr>
<td><code>send_mail</code></td>
<td><code>false</code></td>
<td>Enable or disable email notifications</td>
</tr>
<tr>
<td><code>service.name</code></td>
<td><code>Imputation Server 2</code></td>
<td>Service name</td>
</tr>
<tr>
<td><code>service.email</code></td>
<td><code>null</code></td>
<td>Service email</td>
</tr>
<tr>
<td><code>service.url</code></td>
<td><code>null</code></td>
<td>Service URL</td>
</tr>
<tr>
<td><code>user.name</code></td>
<td><code>null</code></td>
<td>User's name</td>
</tr>
<tr>
<td><code>user.email</code></td>
<td><code>null</code></td>
<td>User's email</td>
</tr>
<tr>
<td><code>phasing.engine</code></td>
<td><code>eagle</code></td>
<td>Phasing method (e.g., 'eagle' or <code>beagle</code>)</td>
</tr>
<tr>
<td><code>phasing.window</code></td>
<td><code>5000000</code></td>
<td>Phasing window size</td>
</tr>
<tr>
<td><code>imputation.enabled</code></td>
<td><code>true</code></td>
<td>Enable or disable imputation</td>
</tr>
<tr>
<td><code>imputation.window</code></td>
<td><code>500000</code></td>
<td>Imputation window size</td>
</tr>
<tr>
<td><code>imputation.minimac_min_ratio</code></td>
<td><code>0.00001</code></td>
<td>Minimac minimum ratio</td>
</tr>
<tr>
<td><code>imputation.min_r2</code></td>
<td><code>0</code></td>
<td>R2 filter value</td>
</tr>
<tr>
<td><code>imputation.meta</code></td>
<td><code>false</code></td>
<td>Enable or disable empirical output creation</td>
</tr>
<tr>
<td><code>imputation.md5</code></td>
<td><code>false</code></td>
<td>Enable or disable md5 sum creation for results</td>
</tr>
<tr>
<td><code>imputation.create_index</code></td>
<td><code>false</code></td>
<td>Enable or disable index creation for imputed files</td>
</tr>
<tr>
<td><code>imputation.decay</code></td>
<td><code>0</code></td>
<td>Set minimac decay</td>
</tr>
<tr>
<td><code>encryption.enabled</code></td>
<td><code>true</code></td>
<td>Enable or disable encryption</td>
</tr>
<tr>
<td><code>encryption.aes</code></td>
<td><code>false</code></td>
<td>Enable or disable AES method for encryption</td>
</tr>
<tr>
<td><code>ancestry.enabled</code></td>
<td><code>false</code></td>
<td>Enable or disable ancestry analysis</td>
</tr>
<tr>
<td><code>ancestry.dim</code></td>
<td><code>10</code></td>
<td>Ancestry analysis dimension</td>
</tr>
<tr>
<td><code>ancestry.dim_high</code></td>
<td><code>20</code></td>
<td>High dimension for ancestry analysis</td>
</tr>
<tr>
<td><code>ancestry.batch_size</code></td>
<td><code>50</code></td>
<td>Batch size for ancestry analysis</td>
</tr>
<tr>
<td><code>ancestry.reference</code></td>
<td><code>null</code></td>
<td>Ancestry reference data</td>
</tr>
<tr>
<td><code>ancestry.max_pcs</code></td>
<td><code>8</code></td>
<td>Maximum principal components for ancestry</td>
</tr>
<tr>
<td><code>ancestry.k</code></td>
<td><code>10</code></td>
<td>K value for ancestry analysis</td>
</tr>
<tr>
<td><code>ancestry.threshold</code></td>
<td><code>0.75</code></td>
<td>Ancestry threshold</td>
</tr>
</tbody>
</table>
<h2 id="reference-panel-configuration">Reference Panel Configuration<a class="headerlink" href="#reference-panel-configuration" title="Permanent link">&para;</a></h2>
<p>This document describes the structure of a YAML file used to configure a reference panel for Imputation Servers. Reference panels are essential for genotype imputation, allowing the server to infer missing genotype data accurately.</p>
<h3 id="yaml-structure">YAML Structure<a class="headerlink" href="#yaml-structure" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>The name of the reference panel.</td>
</tr>
<tr>
<td><code>description</code></td>
<td>A brief description of the reference panel.</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The version of the reference panel.</td>
</tr>
<tr>
<td><code>website</code></td>
<td>The website where more information about the panel can be found.</td>
</tr>
<tr>
<td><code>category</code></td>
<td>The category to which the reference panel belongs. <strong>TODO: has to be RefPanel</strong></td>
</tr>
<tr>
<td><code>properties</code></td>
<td>A section containing specific properties of the reference panel.</td>
</tr>
</tbody>
</table>
<h4 id="properties">Properties<a class="headerlink" href="#properties" title="Permanent link">&para;</a></h4>
<p>The <code>properties</code> section contains the following key-value pairs:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>An identifier for the reference panel.</td>
<td>yes</td>
</tr>
<tr>
<td><code>genotypes</code></td>
<td>The location of the genotype files for the reference panel data.</td>
<td>yes</td>
</tr>
<tr>
<td><code>sites</code></td>
<td>The location of the site files for the reference panel data.</td>
<td>yes</td>
</tr>
<tr>
<td><code>mapEagle</code></td>
<td>The location of the genetic map file used for phasing with eagle.</td>
<td>yes</td>
</tr>
<tr>
<td><code>refEagle</code></td>
<td>The location of the BCF file for the reference panel data for eagle.</td>
<td>yes</td>
</tr>
<tr>
<td><code>mapBeagle</code></td>
<td>The location of the genetic map file used for phasing with Beagle.</td>
<td>no</td>
</tr>
<tr>
<td><code>refBeagle</code></td>
<td>The location of the BCF file for the reference panel data for Beagle.</td>
<td>no</td>
</tr>
<tr>
<td><code>build</code></td>
<td>The genome build version used for the reference panel (e.g., hg19 or hg38).</td>
<td>yes</td>
</tr>
<tr>
<td><code>range</code></td>
<td>Specify a range that is used for imputation (e.g. HLA)</td>
<td>no</td>
</tr>
<tr>
<td><code>mapMinimac</code></td>
<td>The location of the map file for Minimac</td>
<td>no</td>
</tr>
<tr>
<td><code>populations</code></td>
<td>A dictionary mapping population identifiers to their names.</td>
<td>yes</td>
</tr>
<tr>
<td><code>qcFilter</code></td>
<td>A dictionary mapping quality filters to their values.</td>
<td>no</td>
</tr>
</tbody>
</table>
<h5 id="populations">Populations<a class="headerlink" href="#populations" title="Permanent link">&para;</a></h5>
<p>The <code>populations</code> section contains a dictionary mapping population identifiers to their names and sample size. This mapping helps categorize and label the populations represented in the reference panel.</p>
<table>
<thead>
<tr>
<th>Identifier</th>
<th>Name</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>The id of the popualtion (e.g. eur)</td>
</tr>
<tr>
<td><code>name</code></td>
<td>The label of the population. (e.g. EUR)</td>
</tr>
<tr>
<td><code>samples</code></td>
<td>Number of samples in the reference panel</td>
</tr>
</tbody>
</table>
<p>Note: the population id has to be the same as in the legend files.</p>
<h4 id="quality-filters">Quality Filters<a class="headerlink" href="#quality-filters" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Filter</th>
<th>Name</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>overlap</code></td>
<td>Minimal overlap between gwas data and reference panel</td>
<td>0.5</td>
</tr>
<tr>
<td><code>minSnps</code></td>
<td>Minimal #SNPs per chunk</td>
<td>3</td>
</tr>
<tr>
<td><code>sampleCallrate</code></td>
<td>Minimal sample call rate</td>
<td>0.5</td>
</tr>
<tr>
<td><code>mixedGenotypeschrX</code></td>
<td>-</td>
<td>0.1</td>
</tr>
<tr>
<td><code>strandFlips</code></td>
<td>Maximal allowed strand flips</td>
<td>100</td>
</tr>
</tbody>
</table>
<h3 id="example-yaml">Example YAML<a class="headerlink" href="#example-yaml" title="Permanent link">&para;</a></h3>
<p>Here's an example YAML configuration for a reference panel. This configuration describes a reference panel named "HapMap 2" for an Imputation Server, including details about its version, data sources, and populations represented. The files are stored on AWS S3 and are directly consumed by the pipeline from there.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HapMap 2</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HapMap2 Reference Panel for Imputation Server</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0.0</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="nt">website</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://imputationserver.sph.umich.edu</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="nt">category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RefPanel</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">  </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hapmap2</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">  </span><span class="nt">genotypes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">s3://cloudgene/refpanels/hapmap/m3vcfs/hapmap_r22.chr$chr.CEU.hg19.recode.m3vcf.gz</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">  </span><span class="nt">legend</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">s3://cloudgene/refpanels/hapmap/legends/hapmap_r22.chr$chr.CEU.hg19_impute.legend.gz</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">  </span><span class="nt">mapEagle</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">s3://cloudgene/refpanels/hapmap/map/genetic_map_hg19_withX.txt.gz</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">  </span><span class="nt">refEagle</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">s3://cloudgene/refpanels/hapmap/bcfs/hapmap_r22.chr$chr.CEU.hg19.recode.bcf</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">  </span><span class="nt">build</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hg19</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">  </span><span class="nt">populations</span><span class="p">:</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">eur</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EUR</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w">      </span><span class="nt">samples</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">off</span>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="w">      </span><span class="nt">samples</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-1</span>
</code></pre></div>
<h3 id="note-on-chr-variable">Note on <code>$chr</code> Variable<a class="headerlink" href="#note-on-chr-variable" title="Permanent link">&para;</a></h3>
<p>In the example YAML configuration provided, you may have noticed the presence of the <code>$chr</code> variable in some URLs. This variable is a placeholder for the chromosome number and will be replaced by the Nextflow pipeline.</p>
<h3 id="legend-files">Legend Files<a class="headerlink" href="#legend-files" title="Permanent link">&para;</a></h3>
<p>A legend file is a tab-delimited file consisting of 5 columns (<code>id</code>, <code>position</code>, <code>a0</code>, <code>a1</code>, <code>all.aaf</code>).</p>
<hr />
<h2 id="run-with-cloudgene">Run with Cloudgene<a class="headerlink" href="#run-with-cloudgene" title="Permanent link">&para;</a></h2>
<h3 id="requirements">Requirements:<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h3>
<ul>
<li>Install Nextflow</li>
<li>Docker or Singularity</li>
<li>Java 14</li>
</ul>
<h3 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h3>
<ul>
<li>Install cloudgene3: <code>curl -s install.cloudgene.io | bash -s 3.0.0-rc3</code></li>
<li>Download latest source code zip file from releases</li>
<li>Install impuationserver2 app: <code>./cloudgene install imputationserver2@latest</code></li>
<li>Install hapmap2 referenece panel: <code>./cloudgene install https://genepi.i-med.ac.at/downloads/imputation/imputation-hapmap2.zip</code></li>
<li>Start cloudgene server: <code>./cloudgene server</code></li>
<li>Open <a href="http://localhost:8082">http://localhost:8082</a></li>
<li>Login with default admin account: username <code>admin</code> and password <code>admin1978</code></li>
<li>Imputation can be tested with the following <a href="https://github.com/genepi/imputationserver2/raw/main/tests/data/input/chr20-phased/chr20.R50.merged.1.330k.recode.small.vcf.gz">test file</a></li>
</ul>
<h3 id="default-configuration">Default Configuration<a class="headerlink" href="#default-configuration" title="Permanent link">&para;</a></h3>
<p>The default configuration runs with Docker and uses Nextflow's <a href="https://www.nextflow.io/docs/latest/executor.html#local">local executor</a>.</p>
<h3 id="running-on-slurm">Running on SLURM<a class="headerlink" href="#running-on-slurm" title="Permanent link">&para;</a></h3>
<p>Configure via web interface (Applications -&gt; imputationserver -&gt; Settings) or adapt/create file <code>apps/imputationserver/nextflow.config</code> and add the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>process {
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>  executor = &#39;slurm&#39;
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>  queue = &#39;QueueName&#39;  // replace with your Queue name
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>}
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>errorStrategy = {task.exitStatus == 143 ? &#39;retry&#39; : &#39;terminate&#39;}
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>maxErrors = &#39;-1&#39;
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>maxRetries = 3
</code></pre></div>
<p>See more about SLURM <a href="https://www.nextflow.io/docs/latest/executor.html#slurm">Nextflow Documentation</a>.</p>
<h3 id="running-on-aws-batch">Running on AWS Batch<a class="headerlink" href="#running-on-aws-batch" title="Permanent link">&para;</a></h3>
<ol>
<li>Create AWS Batch queue and AMI role (see <a href="https://www.nextflow.io/docs/latest/aws.html#aws-batch">Nextflow Documentation</a>)</li>
<li>Configure via web interface (Applications -&gt; imputationserver -&gt; Settings) or adapt/create file <code>apps/imputationserver/nextflow.config</code> and add the following:</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>aws {
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>  region = &#39;eu-central-1&#39;
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>  client {
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    uploadChunkSize = 10485760
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>  }
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>  batch {
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>    cliPath = &#39;/home/ec2-user/miniconda/bin/aws&#39;
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>    executionRole = &#39;arn:aws:iam::***&#39; // replace with your AMI role
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>  }
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>}
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>process {
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>  executor = &#39;awsbatch&#39;
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>  queue = &#39;QueueName&#39;  // replace with your Queue name
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>  scratch = false
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>}
</code></pre></div>
<ol>
<li>Got to Settings -&gt; General and set Workspace to "S3" and enter the location of a subfolder in an S3 bucket. Enter the location of a subfolder in an S3 bucket. Currently, it must be a subfolder; a bucket won't work (Example: <code>s3://cloudgene/workspace</code>).</li>
</ol>
<p>Optional add <a href="https://www.nextflow.io/docs/latest/wave.html">Wave</a> and <a href="https://www.nextflow.io/docs/latest/fusion.html">Fusion</a> support to improve performance:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>wave {
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>  enabled = true
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>  endpoint = &#39;https://wave.seqera.io&#39;
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>}
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>fusion {
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>  enabled = true
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>}
</code></pre></div>
<h3 id="activate-mail-support">Activate mail support<a class="headerlink" href="#activate-mail-support" title="Permanent link">&para;</a></h3>
<ul>
<li>Configure mail server in Settings -&gt; General -&gt; Mail</li>
<li>Configure Nextflow to use Cloudgenes mail settings by add the following to the global configuration (Settings -&gt; General -&gt; Nextflow) or adapt/create files <code>config/nextflow.confing</code> (see <a href="https://www.nextflow.io/docs/latest/config.html#config-mail">Nextflow Documention</a> for all available mail settings)</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>mail {
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>    smtp.host = &quot;${CLOUDGENE_SMTP_HOST}&quot;
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>    smtp.port = &quot;${CLOUDGENE_SMTP_PORT}&quot;
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    smtp.user = &quot;${CLOUDGENE_SMTP_USER}&quot;
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    smtp.password = &quot;${CLOUDGENE_SMTP_PASSWORD}&quot;
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>    smtp.auth = true
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>    smtp.starttls.enable = true
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>    smtp.ssl.protocols = &#39;TLSv1.2&#39;
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>}
</code></pre></div>
<ul>
<li>Add <code>params.config.send_mail = true</code> to the application specific configuration to activate mail notifications in the imputationserver2 pipeline</li>
</ul>
<h3 id="adapt-default-parameters">Adapt default parameters<a class="headerlink" href="#adapt-default-parameters" title="Permanent link">&para;</a></h3>
<p>Parameters can be changed in the `nextflow.config`` file of the application. Example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>params.chunk_size = 500000
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>params.imputation.window = 100000
</code></pre></div>
<h2 id="development">Development<a class="headerlink" href="#development" title="Permanent link">&para;</a></h2>
<h3 id="build-docker-image-locally">Build docker image locally<a class="headerlink" href="#build-docker-image-locally" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>docker build -t genepi/imputation-docker:latest .
</code></pre></div>
<h3 id="run-testcases">Run testcases<a class="headerlink" href="#run-testcases" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>nf-test test
</code></pre></div>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link">&para;</a></h2>
<p>imputationserver2 is MIT Licensed and was developed at the <a href="https://genepi.i-med.ac.at/">Institute of Genetic Epidemiology</a>, Medical University of Innsbruck, Austria.</p>
<h2 id="contact">Contact<a class="headerlink" href="#contact" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://genepi.i-med.ac.at/team/schoenherr-sebastian/">Sebastian Schnherr</a></li>
<li><a href="https://genepi.i-med.ac.at/team/forer-lukas/">Lukas Forer</a></li>
</ul>







  
  




  



                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": ".", "features": ["content.tooltips", "navigation.tabs", "search.highlight", "search.share", "search.suggest", "toc.follow", "content.tabs.link", "content.code.annotate", "content.code.copy"], "search": "assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>